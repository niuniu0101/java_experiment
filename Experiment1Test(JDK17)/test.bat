@echo off
set JAVA_HOME=E:\jdk17\bin
set PATH=%JAVA_HOME%\bin;%PATH%

rem ????????TestNG??????Jar?????????????????lib??????
set LIB_DIR=.\lib

rem ???????????????????????????????
set TO_BE_TEST_CLASSPAH=.\betest

rem ???¨°????????(???????????????,????????test\SearchEngine????
set TEST_SUITE_CLASSPATH=.\test

rem ??????TestNG??????Jar?????CLASSPATH
setlocal EnableDelayedExpansion
set DEP_JAR=""
for /r %LIB_DIR% %%i in (*.jar) do if !DEP_JAR!=="" (set DEP_JAR=%%i) else (set DEP_JAR=!DEP_JAR!;%%i) 

set CLASSPATH=%CLASSPATH%;%TO_BE_TEST_CLASSPAH%;%TEST_SUITE_CLASSPATH%;%DEP_JAR%


java --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.math=ALL-UNNAMED --add-opens java.base/sun.net.util=ALL-UNNAMED   org.testng.TestNG testng.xml -d test-output